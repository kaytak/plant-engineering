"use strict";(self.webpackChunkengineering_com=self.webpackChunkengineering_com||[]).push([[841],{841:(z,x,g)=>{g.r(x),g.d(x,{default:()=>A});var B=g(861);const h="shapes",O=function(){var y=(0,B.Z)(function*(n){let e;const o=n.configObj.pref("lang");try{e=yield function(l){switch(l){case"./locale/en.js":return Promise.resolve().then(function(){return E});case"./locale/fr.js":return Promise.resolve().then(function(){return q});case"./locale/zh-CN.js":return Promise.resolve().then(function(){return F});default:return new Promise(function(s,r){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+l)))})}}("./locale/".concat(o,".js"))}catch(v){console.warn("Missing translation (".concat(o,") for ").concat(h," - using 'en'")),e=yield Promise.resolve().then(function(){return E})}n.i18next.addResourceBundle(o,h,e.default)});return function(e){return y.apply(this,arguments)}}();var A={name:h,init(){var y=this;return(0,B.Z)(function*(){const n=y,e=n.svgCanvas,{$id:o,$click:v}=e,l=e.getSvgRoot();let s={};yield O(n);const r="shapelib",d={};let a,c,u;return{callback(){if(null===o("tool_shapelib")){const t='\n          <se-explorerbutton id="tool_shapelib" title="'.concat(n.i18next.t("".concat(h,":buttons.0.title")),'" lib="./extensions/ext-shapes/shapelib/"\n          src="shapelib.svg"></se-explorerbutton>\n          ');e.insertChildAtIndex(o("tools_left"),t,9),v(o("tool_shapelib"),()=>{this.leftPanel.updateLeftPanel("tool_shapelib")&&e.setMode(r)})}},mouseDown(t){if(e.getMode()!==r)return;const b=document.getElementById("tool_shapelib").dataset.draw;c=t.start_x;const p=c;u=t.start_y;const i=u,m=e.getStyle();return d.x=t.event.clientX,d.y=t.event.clientY,a=e.addSVGElementsFromJson({element:"path",curStyles:!0,attr:{d:b,id:e.getNextId(),opacity:m.opacity/2,style:"pointer-events:none"}}),a.setAttribute("transform","translate("+p+","+i+") scale(0.005) translate("+-p+","+-i+")"),e.recalculateDimensions(a),s=a.getBBox(),{started:!0}},mouseMove(t){if(e.getMode()!==r)return;const b=e.getZoom(),p=t.event,i=t.mouse_x/b,m=t.mouse_y/b,M=a.transform.baseVal,S=a.getBBox(),C=S.x,T=S.y,G=(Math.min(c,i),Math.min(u,m),Math.abs(i-c)),V=Math.abs(m-u);let _=G/s.width||1,f=V/s.height||1,j=0;i<c&&(j=s.width);let w=0;m<u&&(w=s.height);const k=l.createSVGTransform(),D=l.createSVGTransform(),P=l.createSVGTransform();if(k.setTranslate(-(C+j),-(T+w)),!p.shiftKey){const I=Math.min(Math.abs(_),Math.abs(f));_=I*(_<0?-1:1),f=I*(f<0?-1:1)}D.setScale(_,f),P.setTranslate(C+j,T+w),M.appendItem(P),M.appendItem(D),M.appendItem(k),e.recalculateDimensions(a),s=a.getBBox()},mouseUp(t){if(e.getMode()===r)return{keep:t.event.clientX!==d.x&&t.event.clientY!==d.y,element:a,started:!1}}}})()}},E=Object.freeze({__proto__:null,default:{loading:"Loading...",categories:{basic:"Basic",object:"Objects",symbol:"Symbols",arrow:"Arrows",flowchart:"Flowchart",animal:"Animals",game:"Cards & Chess",dialog_balloon:"Dialog balloons",electronics:"Electronics",math:"Mathematical",music:"Music",misc:"Miscellaneous",raphael_1:"raphaeljs.com set 1",raphael_2:"raphaeljs.com set 2"},buttons:[{title:"Shape library"}]}}),q=Object.freeze({__proto__:null,default:{loading:"Chargement...",categories:{basic:"Basique",object:"Objets",symbol:"Symboles",arrow:"Fl\xe8ches",flowchart:"Flowchart",animal:"Animaux",game:"Cartes & Echecs",dialog_balloon:"Dialog balloons",electronics:"Electronique",math:"Mathematiques",music:"Musique",misc:"Divers",raphael_1:"raphaeljs.com set 1",raphael_2:"raphaeljs.com set 2"},buttons:[{title:"Biblioth\xe8que d'images"}]}}),F=Object.freeze({__proto__:null,default:{loading:"\u6b63\u5728\u52a0\u8f7d...",categories:{basic:"\u57fa\u672c",object:"\u5bf9\u8c61",symbol:"\u7b26\u53f7",arrow:"\u7bad\u5934",flowchart:"\u5de5\u4f5c\u6d41",animal:"\u52a8\u7269",game:"\u68cb\u724c",dialog_balloon:"\u4f1a\u8bdd\u6846",electronics:"\u7535\u5b50",math:"\u6570\u5b66",music:"\u97f3\u4e50",misc:"\u5176\u4ed6",raphael_1:"raphaeljs.com \u96c6\u5408 1",raphael_2:"raphaeljs.com \u96c6\u5408 2"},buttons:[{title:"\u56fe\u5143\u5e93"}]}})}}]);