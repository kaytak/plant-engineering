"use strict";(self.webpackChunkengineering_com=self.webpackChunkengineering_com||[]).push([[695],{695:(L,f,p)=>{p.r(f),p.d(f,{default:()=>A});var m=p(861);const l="eyedropper",v=function(){var y=(0,m.Z)(function*(s){let n;const u=s.configObj.pref("lang");try{n=yield function(c){switch(c){case"./locale/en.js":return Promise.resolve().then(function(){return g});case"./locale/fr.js":return Promise.resolve().then(function(){return P});case"./locale/zh-CN.js":return Promise.resolve().then(function(){return j});default:return new Promise(function(_,d){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(d.bind(null,new Error("Unknown variable dynamic import: "+c)))})}}("./locale/".concat(u,".js"))}catch(e){console.warn("Missing translation (".concat(u,") for ").concat(l," - using 'en'")),n=yield Promise.resolve().then(function(){return g})}s.i18next.addResourceBundle(u,l,n.default)});return function(n){return y.apply(this,arguments)}}();var A={name:l,init(){var y=this;return(0,m.Z)(function*(){const s=y,{svgCanvas:n}=s;yield v(s);const{ChangeElementCommand:u}=n.history,e={fillPaint:"red",fillOpacity:1,strokePaint:"black",strokeOpacity:1,strokeWidth:5,strokeDashArray:null,opacity:1,strokeLinecap:"butt",strokeLinejoin:"miter"},{$id:c,$click:_}=n,d=i=>{if("eyedropper"===n.getMode())return;const a=c("tool_eyedropper");let t=null;i.multiselected||!i.elems[0]||["svg","g","use"].includes(i.elems[0].nodeName)?a.classList.add("disabled"):(t=i.elems[0],a.classList.remove("disabled"),e.fillPaint=t.getAttribute("fill")||"black",e.fillOpacity=t.getAttribute("fill-opacity")||1,e.strokePaint=t.getAttribute("stroke"),e.strokeOpacity=t.getAttribute("stroke-opacity")||1,e.strokeWidth=t.getAttribute("stroke-width"),e.strokeDashArray=t.getAttribute("stroke-dasharray"),e.strokeLinecap=t.getAttribute("stroke-linecap"),e.strokeLinejoin=t.getAttribute("stroke-linejoin"),e.opacity=t.getAttribute("opacity")||1)};return{name:s.i18next.t("".concat(l,":name")),callback(){const i="".concat(l,":buttons.0.title"),a="".concat(l,":buttons.0.key"),t='\n        <se-button id="tool_eyedropper" title="'.concat(i,'" src="eye_dropper.svg" shortcut=').concat(a,"></se-button>\n        ");n.insertChildAtIndex(c("tools_left"),t,12),_(c("tool_eyedropper"),()=>{this.leftPanel.updateLeftPanel("tool_eyedropper")&&n.setMode("eyedropper")})},selectedChanged:d,elementChanged:d,mouseDown(i){if("eyedropper"===n.getMode()){const t=i.event,{target:o}=t;if(!["svg","g","use"].includes(o.nodeName)){const b={},r=function(h,k,O){b[k]=h.getAttribute(k),h.setAttribute(k,O)};e.fillPaint&&r(o,"fill",e.fillPaint),e.fillOpacity&&r(o,"fill-opacity",e.fillOpacity),e.strokePaint&&r(o,"stroke",e.strokePaint),e.strokeOpacity&&r(o,"stroke-opacity",e.strokeOpacity),e.strokeWidth&&r(o,"stroke-width",e.strokeWidth),e.strokeDashArray&&r(o,"stroke-dasharray",e.strokeDashArray),e.opacity&&r(o,"opacity",e.opacity),e.strokeLinecap&&r(o,"stroke-linecap",e.strokeLinecap),e.strokeLinejoin&&r(o,"stroke-linejoin",e.strokeLinejoin),a=new u(o,b),n.undoMgr.addCommandToHistory(a)}}var a}}})()}},g=Object.freeze({__proto__:null,default:{name:"eyedropper",buttons:[{title:"Eye Dropper Tool",key:"I"}]}}),P=Object.freeze({__proto__:null,default:{name:"pipette",buttons:[{title:"Outil pipette",key:"I"}]}}),j=Object.freeze({__proto__:null,default:{name:"\u6ef4\u7ba1",buttons:[{title:"\u6ef4\u7ba1\u5de5\u5177",key:"I"}]}})}}]);